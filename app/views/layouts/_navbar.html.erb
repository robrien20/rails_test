<script>
var activeMenu;
function toggleMenu(event) {
  if (event) {
    event.stopPropagation();
  }
  var menu = document.getElementById("dropdown-menu");
  var button = document.getElementById("menubutton");
  if (menu.style.display === "block") {
    menu.style.display = "none";
    button.style.color = "";
    button.style.backgroundColor = "";
  } else {
    button.style.backgroundColor = "blue";
    button.style.color = "white";
    menu.style.display = "block";
  }
}
function toggleSubmenu(event, submenuId) {
  event.stopPropagation();
  var submenu = document.getElementById(submenuId);
  var button = document.getElementById(submenuId+"button");
  var openSubmenus = document.querySelectorAll('.submenu[style*="block"]');
  if (submenu.style.display === "block") {
    submenu.style.display = "none";
    button.style.backgroundColor = "";
    button.style.color = "";
  } else {
    submenu.style.display = "block";
    button.style.backgroundColor = "blue";
    button.style.color = "white";
  }
  for (var i = 0; i < openSubmenus.length; i++) {
    if (openSubmenus[i] !== submenu && openSubmenus[i] !== submenu.parentNode  ) {
      openSubmenus[i].style.display = "none";
      var button = document.getElementById(openSubmenus[i].id+"button");
      button.style.backgroundColor = "";
      button.style.color = "";
    }
  }
  
}
window.onclick = function(event) {
  var menu = document.getElementById("dropdown-menu");
  var button = document.getElementById("menubutton");
  if (!event.target.matches('.menu-button') && !event.target.closest('.dropdown-menu') && menu.style.display === "block") {
    menu.style.display = "none";
    button.style.backgroundColor = "";
    button.style.color = "";
  }
}
</script>

<div id="menu" class="menu">
  <button class="menu-button" id="menubutton" onclick="toggleMenu()">Menu</button>
  <div id="dropdown-menu" class="dropdown-menu">
    <a href="#">Home</a>
    <button id="submenu1button" onclick="toggleSubmenu(event, 'submenu1')">Projects</button>
      <div id="submenu1" class="submenu">
        <button id="subsubmenu1button" onclick="toggleSubmenu(event, 'subsubmenu1')">subsubmenu1</button>
          <div id="subsubmenu1" class="submenu">
          <a href="#">About</a>
          <a href="https://robrien.xyz">Subsuboption 2</a> 
          <a href="#">Subsuboption 3</a>
       </div>
      <a href="#">Suboption 2</a>
      <a href="#">Suboption 3</a>
    </div>
    <button id="submenu2button" onclick="toggleSubmenu(event, 'submenu2')">Socials</button>
    <div id="submenu2" class="submenu">
      <a href="#">Email</a>
      <a href="#">Instagram</a>
      <a href="#">Twitter</a>
      <a href="#">LinkedIn</a>
    </div>
    <button id="submenu3button" onclick="toggleSubmenu(event, 'submenu3')">Websites I like</button>
    <div id="submenu3" class="submenu">
      <a href="#">Link 1</a>
      <a href="#">Link 2</a>
      <a href="#">Link 3</a>
      <a href="#">Link 4</a>
    </div>
    <a href="#">About</a>
  </div>
</div>